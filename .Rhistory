library(tm)
library(lsa)
katalog <- "G:\\przetwarzanie jezyka naturalnego\\Artykuly-stem"
korpus <- VCorpus(DirSource(katalog,encoding="UTF-8"), readerControl = list(reader=readPlain))
korpus <- tm_map(korpus,removeNumbers)
korpus <- tm_map(korpus,stripWhitespace)
korpus <- tm_map(korpus,removePunctuation)
dtm_tfidf<-DocumentTermMatrix(korpus,control=list(weighting=weightTfIdf,bounds = list(global = c(2,9))))
txt.matrix<-as.textmatrix(t(as.matrix(dtm_tfidf)))
lsa.model<-lsa(txt.matrix)
wsp.wyrazow<-lsa.model$tk%*%diag(lsa.model$sk)
wsp.dokumentow<-lsa.model$dk%*%diag(lsa.model$sk)
#slowa<-c("zawał","bramka","zupa","nadciśnienie","dieta","sprężarka")
slowa<-c("zawał","bramka")
wsp.slowa<-wsp.wyrazow[slowa,]
plot(c(wsp.slowa[,1],wsp.dokumentow[,1]),c(wsp.slowa[,2],wsp.dokumentow[,2]))
text(c(wsp.slowa[,1],wsp.dokumentow[,1]),c(wsp.slowa[,2],wsp.dokumentow[,2]),c(rownames(wsp.slowa),paste("d",1:15,sep="")),pos=4)
print(rownames(wsp.dokumentow))
View(lsa.model)
View(wsp.dokumentow)
#zmiana katalogu roboczego
workDir <- "D:\\Polska\\Edukacja_w_Polsce\\Uniwersytet ekonomiczny\\Studia magisterskie\\Przetwarzanie jezyka naturalnego\\Textmining"
setwd(workDir)
#włączenie bibliotek
library(tm)
#zmiana katalogu roboczego
workDir <- "D:\\Polska\\Edukacja_w_Polsce\\Uniwersytet ekonomiczny\\Studia magisterskie\\Przetwarzanie jezyka naturalnego\\Textmining"
setwd(workDir)
#definicja katalogów projektu
# . - to jest katalog roboczy, a nie bieżący
inputDir <- ".\\data"
outputDir <- ".\\results"
scriptsDir <- ".\\scripts"
workspaceDir <- ".\\workspaces"
#utworzenie katalogu wyjściowego
dir.create(outputDir, showWarnings = FALSE)
dir.create(workspaceDir, showWarnings = FALSE)
#utworzenie korpusu dokumentów - chcemy do input dir dokleić ścieżkę dostępu, ale ta zmienna zawiera tylko adres
corpusDir <- paste(inputDir, "\\",  "Literatura - streszczenia - przetworzone", sep = "")
#VCorpus - tworzy obiekt korpusu dokumentów
corpus <- VCorpus(
DirSource(
corpusDir,
pattern = "*.txt",
encoding = "UTF-8"
),
readerControl = list(
language = "pl_PL"
)
)
cutExtentions <- function(document){
#chcemy metadaną o id dokumentu podmienić na
meta(document, "id") <- gsub(pattern = "\\.txt$", "", meta(document, "id"))#gsub nie zmienia tekstu podawanego jako parametr,
#dlatego, jeśli chcemy zachować zmianę, to musimy z powrotem przypisać (<-)
return(document)
}
corpus <- tmMap(corpus, cutExtentions)
corpus <- tm_map(corpus, cutExtentions)
#utworzenie macierzy częstości
tdmTfAll <- TermDocumentMatrix(corpus)
dtmTfAll <- DocumentTermMatrix(corpus)
tdmTfidfAll <- TermDocumentMatrix(
corpus,
control = list(
weighting = weightBin
)
)
View(dtmTfAll)
dtmTfAll
tdmBinAll <- TermDocumentMatrix(
corpus,
control = list(
weighting = weightBin
)
)
View(tdmBinAll)
tdmBinAll[["dimnames"]][["Terms"]]
